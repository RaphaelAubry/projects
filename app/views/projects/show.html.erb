<h1>Project : <%= @project.name %></h1>
<p><%= @project.description %></p>
<%= link_to "edit project", edit_project_path(@project) %>
<%= link_to "delete project", project_path(@project), data: { turbo_method: :delete , turbo_confirm: 'Are you sure' } %>

<% if @project.tasks.present? %>
  <h2>Tasks</h2>
  <table-1>
    <table-row>
      <table-cell>
        Name
      </table-cell>
      <table-cell>
        Description
      </table-cell>
      <table-cell>
        Assignee
      </table-cell>
    </table-row>
    <% @project.tasks.each do |task| %>
      <table-row>
        <table-cell>
          <%= task.name %>
        </table-cell>
        <table-cell>
          <%= task.description %>
        </table-cell>
        <table-cell>
          <% if task.user %>
            <%= link_to task.user.name, user_path(task.user) %>
          <% else %>
            Unassigned
          <% end %>
        </table-cell>
        <table-cell>
          <%= link_to "edit task", edit_task_path(task) %>
          <%= link_to "delete task", task_path(task), data: { turbo_method: :delete , turbo_confirm: 'Are you sure' } %>
          <% if task.user %>
            <%= link_to :unassign, unassign_path(task) %>
          <% else %>
            <%= link_to :assign, assign_path(task) %>
          <% end %>
        </table-cell>
      </table-row>
    <% end %>
  </table-1>
<% end %>

<%= link_to "new task", new_project_task_path(@project) %>
<%= link_to "projects", projects_path %>
